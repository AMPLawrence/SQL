--In this SQL code, I am cleaning and analyzing survey data from 2014 in regards to mental health in tech. 
--Please find the data site here: https://www.kaggle.com/datasets/osmi/mental-health-in-tech-survey

--Data Cleaning Process:


--Cleaning Gender data. 
--Started with 41 distinct gender entries and narrowed the number down to 6 (Male, Female, Male (Trans), Female (Trans), Non-Binary, Other)  although it appears no trans-males took part in the survey.

--Shows distinct gender as entered by survey participants.
SELECT DISTINCT Gender
FROM dbo.Survey_Data 
--Resulted in 41 distinct gender entries

--Updates all applicable gender entries to Male.
UPDATE dbo.Survey_Data
SET Gender = 'Male'
WHERE Gender = 'Mal' OR Gender = 'Cis Man' OR Gender = 'Man' OR Gender = 'Make' OR Gender = 'Mail' OR Gender = 'Male (CIS)' OR Gender = 'msle' OR Gender = 'maile' OR Gender = 'Cis Male' OR Gender = 'Malr' OR Gender = 'M' OR Gender LIKE 'ostensibly male%'

--Updates all applicable gender entries to Female.
UPDATE dbo.Survey_Data
SET Gender = 'Female'
WHERE Gender = 'Woman' OR Gender = 'Femake' OR Gender = 'femail' OR Gender = 'Cis Female' OR Gender = 'F' OR Gender = 'Female (cis)' OR Gender = 'cis-female/femme'

--Updates all applicable gender entries to Female (Trans).
UPDATE dbo.Survey_Data
SET Gender = 'Transgender'
WHERE Gender = 'Trans woman' OR Gender = 'Female (trans)' OR Gender = 'Trans-female'

--Updates all applicable gender entries to Non-Binary.
UPDATE dbo.Survey_Data
SET Gender = 'Non-Binary'
WHERE Gender = 'Androgyne' OR Gender = 'non-binary' OR Gender = 'Enby' OR Gender = 'fluid' OR Gender = 'queer/she/they' OR Gender = 'Agender' OR Gender = 'Neuter'

--Updates all applicable gender entries to Other.
UPDATE dbo.Survey_Data
SET Gender = 'Other'
WHERE Gender = 'male leaning androgynous' OR Gender = 'male-ish' OR Gender LIKE 'Guy (-ish)%' OR Gender = 'queer' OR Gender = 'Nah' OR Gender LIKE 'something%' OR Gender = 'Genderqueer'


--Clean age data

--Remove all instances of minors in the workplace.
DELETE FROM dbo.Survey_Data
WHERE Age < 18


--Clean company size data

--Remove dates from company size and change it to the correct number range.
UPDATE dbo.Survey_Data
SET no_employees = '1-5'
WHERE no_employees = '5-Jan'

UPDATE dbo.Survey_Data
SET no_employees = '6-25'
WHERE no_employees = '25-Jun'


--Clean Geographical Data

-- Check for rows with a country other than the United States that has the State filled out.
SELECT * 
FROM dbo.Survey_Data
WHERE Country <> 'United States' AND state <> 'NA'
--3 rows found

--Change rows where the country is not the united states to 'N/A'
UPDATE dbo.Survey_Data
SET state = 'N/A'
WHERE Country <> 'United States'


--Cleaning up not applicable (N/A values).
--Updated 'NA' to 'N/A' in multiple columns for clarity (see below):

UPDATE dbo.Survey_Data
SET self_employed = 'N/A'
WHERE self_employed = 'NA'

UPDATE dbo.Survey_Data
SET work_interfere = 'N/A'
WHERE work_interfere = 'NA'
